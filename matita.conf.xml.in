<?xml version="1.0" encoding="utf-8"?>
<helm_registry>
  <section name="user">
    <!-- User home directory. Here a ".matita" directory will be created
    and used to store the part of the library developed by the user. -->
    <key name="home">$(HOME)</key>
    <!-- User name. It is used down in this configuration file.  If left
    unspecified, name of the user executing matita will be used (as per
    getent) -->
    <key name="name">$(USER)</key>
  </section>
  <section name="matita">
    <!-- Debug only. Stay away. -->
    <!-- <key name="auto_disambiguation">true</key> -->
    <!-- Debug only. Stay away. -->
    <!-- <key name="environment_trust">true</key> -->
    <key name="basedir">$(user.home)/.matita</key>
    <!-- Where support files are installed -->
    <key name="rt_base_dir">@RT_BASE_DIR@</key>
    <!-- Metadata owner. It will be used to create user-specific tables
    in the SQL database. -->
    <key name="owner">$(user.name)</key>
    <!-- Initial GUI font size. -->
    <!-- <key name="font_size">10</key> -->
  </section>
  <section name="db">
    <!-- 
    Every metadata key must have the following fields:
      1) dbhost: a file:// or a mysql:// path
      2) database name: use extension .db for file:// dbs
      3) username
      4) password: use 'none' for no password
      5) dbtype: one of the following
           'legacy' 
              are read only dbs, used for the Coq/contribs stuff
           'library' 
	      is the standard library, becames writable in publish (-system)
	      mode
           'user' 
              is the user own db (can be the same of marked as ro, tables
              have different names and can coexist)

    Note that:
      exactly one 'user'    db must be specified
      exactly one 'library' db must be specified
      exactly one 'legacy'  db can  be specified
    -->
    
    <!-- this snippet is what is used by the helm team, everything on mowgli.
         note that user's tables are named diffrently from library tables, so that
	 they can coexists on the same db -->
    <key name="metadata">@DBHOST@ matita helm none library</key>
    <key name="metadata">@DBHOST@ matita helm none user</key>

    <!-- The following snippet it what you want to use a local sqlite db
         and acess remotely to the coq library trought mowgli
    <key name="metadata">@DBHOST@ matita helm none legacy</key>
    <key name="metadata">file://$(matita.rt_base_dir) metadata.db helm helm library</key>
    <key name="metadata">file://$(matita.basedir) user.db helm helm user</key>
    -->

    <!-- 
    If you have a large amount of metadata, you may be interested in using
    MySql instead of Sqlite. The simplest way to create a MySql database is:
      0) # become an user with database administration privileges
      1) mysqladmin create matita
      2) echo "grant all privileges on matita.* to helm;" | mysql matita
      Note that this way the database will be open to anyone, apply
      stricter permissions if needed.
    -->
  </section>
  <section name="getter">
    <!-- Cache dir for CIC XML documents downloaded from the net.
    Beware that this dir may become really space-consuming. It wont be
    used if all prefexises below are local (i.e. "file:///" URI scheme).
    -->
    <key name="cache_dir">$(user.home)/.matita/getter/cache</key>
    <!-- "Prefixes", i.e.: mappings URI -> URL of the global library
    Each prefix mapps an URI of the cic:/ namespace to an URL where the
    documents can actually be accessed. URL can be in the "file://" or
    "http://" scheme. Only "file://" scheme can be used to store
    documents created by the user.
    Each prefix may be given a list of attributes. Currently supported
    attributes are:
    - "legacy" for parts of the library not generated by Matita (e.g.
      exported from Coq)
    - "ro" for parts of the library which are not writable by the user
      (e.g. the Matita standard library)
    "legacy" implies "ro"
    -->
    <key name="prefix">
      cic:/matita/
      file://$(matita.rt_base_dir)/xml/standard-library/
      ro
    </key>
    <key name="prefix">
      cic:/matita/
      file://$(user.home)/.matita/xml/matita/
    </key>
    <key name="prefix">
      cic:/
      file://@RT_BASE_DIR@/xml/legacy-library/coq/
      legacy
    </key>
    <key name="prefix">
      cic:/
      file:///projects/helm/library/coq_contribs/
      legacy
    </key>
    <key name="prefix">
      cic:/
      http://mowgli.cs.unibo.it/xml/
      legacy
    </key>
  </section>
</helm_registry>
